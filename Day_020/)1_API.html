<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function task1() {
        fetch(
          "https://restcountries.com/v3.1/all?fields=name,flags,region,population,capital"
        )
          .then((res) => res.json()) //.json ()->JSON->JS object
          .then((countries) => {
            const countryName = countries.map((country) => country.name.common);
            return countryName;
          })
          .then((data) => console.log(data));
      }
      //task();
      // Task 1.2 🌍
      // Print names of countries with population more than 10,000,000 (1 crore)
      // Sort them in descending order of population
      // Output format: [, "China","India", "Russia", ...]

      function task1_2() {
        fetch(
          "https://restcountries.com/v3.1/all?fields=name,flags,region,population,capital"
        )
          .then((res) => res.json()) //.json ()->JSON->JS object//numeric separator_10_000_0
          .then((countries) => {
            const result = countries.filter(
              (country) => country.population > 10_000_000
            );
            return result;
          })
          .then((data) => console.log(data));
      }
      // task1_2();

      // Task 1.3 📊
      // Print countries with population more than 10,000,000
      // Output format:
      // 1. India - 150000000
      // 2. China - 120000000
      // 3. Russia - 80000000
      // ...

      function task1_3() {
        fetch(
          "https://restcountries.com/v3.1/all?fields=name,flags,region,population,capital"
        )
          .then((res) => res.json()) //.json ()->JSON->JS object//numeric separator_10_000_0
          .then((countries) => {
            const result = countries
              .filter((country) => country.population > 10_000_000)
              .sort(
                (countryA, countryB) =>
                  countryB.population - countryA.population
              )
              .map(
                (country) => `${country.name.common} - ${country.population}`
              );
            //   .join("-");

            return result;
          })
          .then((data) => console.log(data));
      }
      //task1_3();

      // Task 1.4 🔟
      // Get the top 10 most populated countries in descending order
      // Output format similar to Task 1.3
      function task1_4() {
        fetch(
          "https://restcountries.com/v3.1/all?fields=name,flags,region,population,capital"
        )
          .then((res) => res.json()) //.json ()->JSON->JS object//numeric separator_10_000_0 countries-country.array
          .then((countries) => {
            const result = countries
              .filter((country) => country.population > 10_000_000)
              .sort(
                (countryA, countryB) =>
                  countryB.population - countryA.population
              )
              .map(
                (country) => `${country.name.common} - ${country.population}`
              );
            const toptencountries = result.slice(0, 10);
            //   .join("-");

            return toptencountries;
          })
          .then((data) => console.log(data));
      }
      //  task1_4();

      // Task 1.5 📋
      // Display the Top 10 most populated countries on the screen as a list
      // Each list item should show: <Country Name> - <Population>
      function task1_5() {
        fetch(
          "https://restcountries.com/v3.1/all?fields=name,flags,region,population,capital"
        )
          .then((res) => res.json()) //.json ()->JSON->JS object//numeric separator_10_000_0 countries-country.array
          .then((countries) => {
            const result = countries
              .filter((country) => country.population > 10_000_000)
              .sort(
                (countryA, countryB) =>
                  countryB.population - countryA.population
              ) .join("\n");
              .map((country) => (
                <li>
                  {" "}
                  `${country.name.common} - ${country.population}`

                </li>
              ));
            const toptencountries = result.slice(0, 10);

            console.log(toptencountries);

            //   .join("\n");

            return toptencountries;
          })
          .then((data) => console.log(data));
      }
      task1_5();

      // Task 1.6 🌐
      // Display all 250 countries on the screen with the following details:
      // - Country Flag
      // - Country Name
      // - Population
      // - Capital
      // - Region
    </script>
  </body>
</html>
